"use strict";(()=>{var e={};e.id=135,e.ids=[135],e.modules={11185:e=>{e.exports=require("mongoose")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},19500:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>m,patchFetch:()=>y,requestAsyncStorage:()=>d,routeModule:()=>l,serverHooks:()=>f,staticGenerationAsyncStorage:()=>g});var o={};r.r(o),r.d(o,{POST:()=>u});var n=r(49303),i=r(88716),a=r(60670),s=r(23248),c=r(593),p=r(87070);async function u(e){try{let t=await e.json(),{verificationId:r}=t;console.log(t);let o=await c.Z.findOne({certificateId:r.toUpperCase()});if(o)return p.NextResponse.json({message:"I got your certificate!",certificate:o,status:200});return p.NextResponse.json({message:"Invalid CertificateId",certificate:o,status:403})}catch(e){return p.NextResponse.json({message:"Internal Error"})}}(0,s.$)();let l=new n.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/verifiy_certificate/route",pathname:"/api/verifiy_certificate",filename:"route",bundlePath:"app/api/verifiy_certificate/route"},resolvedPagePath:"G:\\NextApp\\pathshala\\Pathshala\\src\\app\\api\\verifiy_certificate\\route.js",nextConfigOutput:"",userland:o}),{requestAsyncStorage:d,staticGenerationAsyncStorage:g,serverHooks:f}=l,m="/api/verifiy_certificate/route";function y(){return(0,a.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:g})}},23248:(e,t,r)=>{r.d(t,{$:()=>i});var o=r(11185),n=r.n(o);async function i(){try{n().connect("mongodb+srv://sunnypatelkoder:sunnypatelkoder@cluster0.9gjeii7.mongodb.net/pathshala");let e=n().connection;e.on("connected",()=>{console.log("MONOG DB connceted successfully")}),e.on("error",e=>{console.log("MONOGO DB connection erorr. please make sure mongodb is runnign",+e)})}catch(e){console.log("Something went wrong"),console.log(e)}}},593:(e,t,r)=>{r.d(t,{Z:()=>a});var o=r(11185),n=r.n(o);let i=n().Schema({user_id:{type:String},username:{type:String},course_id:{type:String},course_name:{type:String},course_category:{type:String},certificateId:{type:String},certificateDownloadUrl:{type:String,default:"https://drive.google.com/file/d/1QZcw0o7L7GTbrS0GRA4YJeyp_rEVruTC/view?usp=sharing"},date_of_completion:{type:Date,default:Date.now}}),a=n().models.Certificate||n().model("Certificate",i)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[948,972],()=>r(19500));module.exports=o})();